<!--
  Generated template for the Proyection page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Proyección</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-list>
    <ion-item>
      <ion-label>Escuela</ion-label>
      <ion-select [(ngModel)]="selectedSchool" (ngModelChange)="changeSchool($event)">
        <ion-option ngValue="sc" *ngFor="let sc of schools" [value]="sc">{{ sc.name }}</ion-option>
      </ion-select>
    </ion-item>
    
  </ion-list>
  <ion-list>
    <ion-item *ngIf="selectedSchool">
      <ion-label>Carrera</ion-label>
      <ion-select [(ngModel)]="selectedCareer">
        <ion-option *ngFor="let ca of careers" [value]="ca">{{ ca.description }}</ion-option> 
      </ion-select>
    </ion-item>
  </ion-list>
    <ion-list *ngIf="selectedCareer">
      <ion-list *ngFor="let quarter of selectedCareer.pensum">
        <ion-list-header>{{ quarter.description }}</ion-list-header>
          <ion-item *ngFor="let subject of quarter.subjects">
             <h2>{{ subject.code }} - {{ subject.name }}</h2>
             <p>{{ subject.credits }} créditos</p>
             <p>Pre-requisitos: {{ subject.pre_requisits || 'Ninguno'}}</p>
             <button ion-button icon-left color="danger">
               <ion-icon name="trash"></ion-icon>
               Quitar
             </button>
              <button ion-button icon-left color="info">
               <ion-icon name="paper"></ion-icon>
               Calificar
             </button>
          </ion-item>
          <ion-item>
            <button ion-button color="secondary" full>
              <ion-icon name="add"></ion-icon>
              Otra asignatura
            </button>
          </ion-item>
      </ion-list>
    </ion-list>
</ion-content>
